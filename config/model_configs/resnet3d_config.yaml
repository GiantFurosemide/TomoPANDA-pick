# 3D ResNet configuration
# 3D ResNet 模型配置

# Model architecture
model:
  type: "resnet3d"
  
  # ResNet settings
  architecture:
    in_channels: 1
    num_classes: 2
    base_channels: 64
    depth: 50  # 18, 34, 50, 101, 152
    dropout: 0.1
    
  # ResNet blocks
  blocks:
    - layers: 2
      channels: 64
      stride: 1
    - layers: 2  
      channels: 128
      stride: 2
    - layers: 2
      channels: 256
      stride: 2
    - layers: 2
      channels: 512
      stride: 2
      
  # Attention mechanism
  attention: true
  attention_type: "se"  # se, cbam, none
  
  # Global pooling
  global_pooling: "avg"  # avg, max, none

# Training specific settings
training:
  batch_size: 8
  learning_rate: 0.001
  num_epochs: 120
  
  # Loss function
  loss_function: "focal"
  focal_alpha: 0.25
  focal_gamma: 2.0
  
  # Optimizer
  optimizer: "sgd"
  weight_decay: 1e-4
  momentum: 0.9
  
  # Learning rate scheduler
  scheduler: "step"
  scheduler_params:
    step_size: 30
    gamma: 0.1
    
  # Data augmentation
  augmentation:
    rotation_prob: 0.5
    flip_prob: 0.5
    elastic_prob: 0.2
    noise_prob: 0.3
    intensity_prob: 0.4

# Model specific hyperparameters
hyperparameters:
  # Architecture
  base_channels: [32, 64, 128]
  depth: [18, 34, 50]
  dropout: [0.1, 0.2, 0.3]
  
  # Training
  batch_size: [4, 8, 16]
  learning_rate: [0.0001, 0.001, 0.01]
  
  # Optimizer
  optimizer: ["adam", "sgd"]
  weight_decay: [1e-5, 1e-4, 1e-3]
